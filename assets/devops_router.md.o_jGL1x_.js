import{_ as s,o as i,c as a,R as n}from"./chunks/framework.0ARc0mp4.js";const l="/blog/assets/单臂路由.YiUS68jN.png",p="/blog/assets/静态路由.ARqysShl.png",h="/blog/assets/小型校园网拓扑图.TSYlZp70.png",t="/blog/assets/小型校园网拓扑图_连通性测试.Wxo38OaG.png",o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"devops/router.md","filePath":"devops/router.md","lastUpdated":1713538590000}'),k={name:"devops/router.md"},e=n(`<h2 id="开启telnet" tabindex="-1">开启telnet <a class="header-anchor" href="#开启telnet" aria-label="Permalink to &quot;开启telnet&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/0                        // 进入端口0的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.254 255.255.255.0         // 设置telnet地址,用来远程登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                // 让配置立即生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#line vty 0 4                  // 设置远程虚拟终端VTY线路数量</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#password 123456          // 设置远程登录的密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#login                    // 开启登录时需要输入密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#end</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                 //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>然后让需要进行远程登录的设备的IP地址和子网掩码与交换机的IP地址在同一网段，打开终端</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">telnet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.254</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 输入登录密码即可进入路由器</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="单臂路由" tabindex="-1">单臂路由 <a class="header-anchor" href="#单臂路由" aria-label="Permalink to &quot;单臂路由&quot;">​</a></h2><p><img src="`+l+`" alt="" loading="lazy" decoding="async"></p><ul><li><strong>①在二层交换机上划分VLAN</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#vlan 10                                // 创建vlan 10并进入配置界面</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#name V10                          // 设置vlan名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#vlan 20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#name V20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/1             // 进入端口1的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport access vlan 10           // 把端口1划分给vlan 10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/2             // 进入端口2的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport access vlan 10           // 把端口1划分给vlan 10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/3             // 进入端口3的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport access vlan 20           // 把端口1划分给vlan 20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/24            // 进入端口24的配置模式,此端口用于连接路由器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport mode trunk               // 把端口24强制改为trunk模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/24,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/24,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                         // 让配置立即生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#end</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                          //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li><strong>②配置路由器子接口</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#erase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> startup-config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                            //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 擦除原有配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Erasing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filesystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files!</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Continue?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [confirm]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Erase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvram:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> complete</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-7-NV_BLOCK_INIT:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Initialized</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> geometry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvram</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/0              // 进入端口0的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no ip address                        // 清除原有的地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                          // 让配置立即生效</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/0.1            // 开启一个端口0的子接口0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#encapsulation dot1Q 10            // 在路由器上配置trunk中继线路封装协议802.1q, dot1Q后面的数字是vlan</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.10.1 255.255.255.0       // 给子接口0.1设置IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/0.2            // 开启一个端口0的子接口0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#encapsulation dot1Q 20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.20.1 255.255.255.0       // 给子接口0.2设置IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#end</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                           //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看路由表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Codes:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RIP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mobile,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       N1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> N2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       E1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ia</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> candidate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ODR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> periodic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> downloaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Gateway</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> last</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resort</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.10.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.20.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0.2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><ul><li><strong>③为终端设备分配IP地址和配置网关</strong></li></ul><h2 id="静态路由" tabindex="-1">静态路由 <a class="header-anchor" href="#静态路由" aria-label="Permalink to &quot;静态路由&quot;">​</a></h2><p><img src="`+p+`" alt="" loading="lazy" decoding="async"></p><ul><li><strong>①配置路由器的端口地址和串口地址</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> t</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#hostname R1                       // 设置路由器名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface fastEthernet 0/0            // 进入端口0的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                        // 启动端口0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.10.254 255.255.255.0            // 给端口0设置IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/0                  // 进入串口0的配置模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                        // 启动串口0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.1 255.255.255.0               // 给串口0设置IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#clock rate 9600                    // 设置DCE设备的时钟频率</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#end</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1#show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                 //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看路由表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Codes:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RIP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mobile,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       N1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> N2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       E1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ia</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> candidate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ODR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> periodic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> downloaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Gateway</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> last</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resort</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.10.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>路由器R2的配置类似，其中以太网端口0的地址为<code>192.168.20.254/24</code>，串口0的地址为<code>192.168.0.2/24</code>，时钟频率也是9600</p><ul><li><strong>②添加静态路由</strong></li></ul><p>对R1而言，他的目标网络是R2，所以填入R2的网络地址<code>192.168.20.0</code>，下一跳地址则是R2的串口地址<code>192.168.0.2</code></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.20.0 255.255.255.0 192.168.0.2          // 给R1添加静态路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R1#show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                       //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看路由表,可以看到多了一条S标记的静态路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Codes:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RIP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mobile,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EIGRP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       N1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> N2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NSSA</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       E1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OSPF</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> external</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EGP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> L2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level-2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ia</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IS-IS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> area</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> candidate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per-user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ODR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> periodic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> downloaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> static</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Gateway</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> last</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resort</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.10.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> directly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FastEthernet0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    192.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.20.0/24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [1/0] via 192.168.0.2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>对R2而言，他的目标网络是R1，所以填入R1的网络地址<code>192.168.10.0</code>，下一跳地址则是R1的串口地址<code>192.168.0.1</code></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R2(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.10.0 255.255.255.0 192.168.0.1          // 给R2添加静态路由</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><strong>③测试终端设备之间的连通性</strong></li></ul><h2 id="实战" tabindex="-1">实战 <a class="header-anchor" href="#实战" aria-label="Permalink to &quot;实战&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">⚡小型校园网网络解决方案的设计与实施</p><p>要搭建的网络是一个在小型的校园网络，主要适宜单一建筑物（教学楼）内的网络解决方案。具体内容：</p><ul><li>3个校区：总校区、东校区和西校区</li><li>总校区有5个多媒体教室（每个教室约5台机器）；1个电子阅览器（10台机器）；5个机房（每个机房4台机器）</li><li>东校区有4个多媒体教室（每个教室约5台机器）； 3个机房（每个机房4台机器）</li><li>西校区有1个多媒体教室（每个教室约5台机器）； 5个机房（每个机房4台机器）</li><li>都需要互联网接入，实现安全的广域网访问</li></ul></div><h3 id="设计思路" tabindex="-1">设计思路 <a class="header-anchor" href="#设计思路" aria-label="Permalink to &quot;设计思路&quot;">​</a></h3><p>将每个校区划分为一个单独的局域网，局域网内部按使用区域不同划分为多个VLAN，而每个校区局域网通过专线连接同一个核心路由器来实现互联互通。</p><h3 id="拓扑图" tabindex="-1">拓扑图 <a class="header-anchor" href="#拓扑图" aria-label="Permalink to &quot;拓扑图&quot;">​</a></h3><p><img src="`+h+`" alt="" loading="lazy" decoding="async"></p><h3 id="设备规划" tabindex="-1">设备规划 <a class="header-anchor" href="#设备规划" aria-label="Permalink to &quot;设备规划&quot;">​</a></h3><p>假设学校从宽带运营商处申请到的固定IP为<code>202.114.7.2/30</code></p><table><thead><tr><th>设备</th><th>用途</th><th>接口</th><th>主机数量/台</th><th>IP地址</th><th>网关</th></tr></thead><tbody><tr><td>ISP</td><td>互联网路由器</td><td>Se0/0</td><td></td><td>202.114.7.1/30</td><td></td></tr><tr><td rowspan="4">R0</td><td rowspan="4">边界路由器</td><td>Se0/0</td><td rowspan="4"></td><td>202.114.7.2/30</td><td></td></tr><tr><td>Se0/1</td><td>192.168.0.1/30</td><td></td></tr><tr><td>Se0/2</td><td>192.168.0.5/30</td><td></td></tr><tr><td>Se0/3</td><td>192.168.0.9/30</td><td></td></tr><tr><td rowspan="4">MainCampusR</td><td rowspan="4">总校区出口路由器</td><td>Se0/0</td><td></td><td>192.168.0.2/30</td><td></td></tr><tr><td>Gig0/0</td><td>30</td><td>192.168.2.30/27</td><td></td></tr><tr><td>Gig0/1</td><td>30</td><td>192.168.3.30/27</td><td></td></tr><tr><td>Gig0/2</td><td>14</td><td>192.168.4.14/28</td><td></td></tr><tr><td rowspan="3">EastCampusR</td><td rowspan="3">东校区出口路由器</td><td>Se0/0</td><td></td><td>192.168.0.6/30</td><td></td></tr><tr><td>Gig0/0</td><td>30</td><td>192.168.5.30/27</td><td></td></tr><tr><td>Gig0/1</td><td>14</td><td>192.168.6.14/28</td><td></td></tr><tr><td rowspan="3">WestCampusR</td><td rowspan="3">西校区出口路由器</td><td>Se0/0</td><td></td><td>192.168.0.10/30</td><td></td></tr><tr><td>Gig0/0</td><td>14</td><td>192.168.7.14/28</td><td></td></tr><tr><td>Gig0/1</td><td>30</td><td>192.168.8.30/27</td><td></td></tr><tr><td>MainCampusS1</td><td>总校区机房24口交换机</td><td>管理VLAN</td><td></td><td>192.168.2.254/24</td><td>192.168.2.30</td></tr><tr><td>MainCampusS2</td><td>总校区多媒体教室24口交换机</td><td>管理VLAN</td><td></td><td>192.168.3.254/24</td><td>192.168.3.30</td></tr><tr><td>MainCampusS3</td><td>总校区多媒体教室24口交换机</td><td>管理VLAN</td><td></td><td>192.168.3.253/24</td><td>192.168.3.30</td></tr><tr><td>MainCampusS4</td><td>总校区电子阅览室24口交换机</td><td>管理VLAN</td><td></td><td>192.168.4.254/24</td><td>192.168.4.14</td></tr><tr><td>EastCampusS1</td><td>东校区多媒体教室24口交换机</td><td>管理VLAN</td><td></td><td>192.168.5.254/24</td><td>192.168.5.30</td></tr><tr><td>EastCampusS2</td><td>东校区机房24口交换机</td><td>管理VLAN</td><td></td><td>192.168.6.254/24</td><td>192.168.6.14</td></tr><tr><td>WestCampusS1</td><td>西校区多媒体教室24口交换机</td><td>管理VLAN</td><td></td><td>192.168.7.254/24</td><td>192.168.7.14</td></tr><tr><td>WestCampusS2</td><td>西校区机房24口交换机</td><td>管理VLAN</td><td></td><td>192.168.8.254/24</td><td>192.168.8.30</td></tr></tbody></table><h3 id="调试设备" tabindex="-1">调试设备 <a class="header-anchor" href="#调试设备" aria-label="Permalink to &quot;调试设备&quot;">​</a></h3><p>这里仅以总校区的机房为例，其他校区局域网的配置步骤大体相似，就不一一罗列了</p><ul><li><strong>①连接设备</strong></li></ul><table><thead><tr><th>设备</th><th>接口</th><th>目标接口</th><th>目标设备</th></tr></thead><tbody><tr><td>MainCampusR</td><td>Se0/0</td><td>Se0/1</td><td>R0</td></tr><tr><td>MainCampusR</td><td>Gig0/0</td><td>Gig0/1</td><td>MainCampusS1</td></tr><tr><td>MainCampusR</td><td>Gig0/1</td><td>Gig0/1</td><td>MainCampusS2</td></tr><tr><td>MainCampusR</td><td>Gig0/2</td><td>Gig0/1</td><td>MainCampusS4</td></tr><tr><td>MainCampusS2</td><td>Gig0/2</td><td>Gig0/2</td><td>MainCampusS3</td></tr></tbody></table><ul><li><strong>②先是接入层交换机<code>MainCampusS1</code>的配置</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Switch(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#hostname MainCampusS1              // 修改设备名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#vlan 2                       // 创建vlan 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#name VLAN2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-vlan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface vlan 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Vlan2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.2.254 255.255.255.0    // 给vlan 2设置IP地址,用作telnet登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface range fastEthernet 0/1-20    // 将1~20号端口划入vlan 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if-range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport access vlan 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if-range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface gigabitEthernet 0/1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#switchport mode trunk          // 将gig0/1端口改为trunk模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#line vty 0 4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#password 123456              // 设置telnet登录密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip default-gateway 192.168.2.30   // 设置默认网关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1#w</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusS1#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ul><li><strong>③接着是校区局域网路由器<code>MainCampusR</code>的配置</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#hostname MainCampusR                  // 修改设备名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface gigabitEthernet 0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no ip address                 // 清除此端口的原IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                   // 启用端口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GigabitEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GigabitEthernet0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface gigabitEthernet 0/0.2     // 创建子接口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GigabitEthernet0/0.2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GigabitEthernet0/0.2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#encapsulation dot1Q 2         // 封装802.1q协议</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.2.30 255.255.255.224   // 设置子接口IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-subif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.2 255.255.255.252       // 设置串口0的IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                      // 启用串口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 0.0.0.0 0.0.0.0 192.168.0.1      // 设置静态路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#line vty 0 4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#password 123456                // 设置telnet登录密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR#w</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MainCampusR#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                       //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ul><li><strong>④核心路由器<code>R0</code>的配置</strong></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router&gt;enable</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router#configure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> terminal</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> per</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CNTL/Z.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Router(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#hostname R0                       // 修改设备名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/0/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 202.114.7.2 255.255.255.252        // 设置串口0的IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#clock rate 9600                    // 设置时钟频率</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown                        // 启用串口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/0/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/1/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.1 255.255.255.252       // 设置串口1的IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#clock rate 9600</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/1/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/1/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/2/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.5 255.255.255.252       // 设置串口2的IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#clock rate 9600</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/2/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/2/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#interface serial 0/3/0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip address 192.168.0.9 255.255.255.252       // 设置串口3的IP地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#clock rate 9600</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#no shutdown</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINK-5-CHANGED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/3/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%LINEPROTO-5-UPDOWN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> protocol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Interface</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Serial0/3/0,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> changed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.2.0 255.255.255.224 192.168.0.2       // 设置静态路由</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.3.0 255.255.255.224 192.168.0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.4.0 255.255.255.240 192.168.0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.5.0 255.255.255.224 192.168.0.6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.6.0 255.255.255.240 192.168.0.6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.7.0 255.255.255.240 192.168.0.10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#ip route 192.168.8.0 255.255.255.224 192.168.0.10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#line vty 0 4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#pas</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#password 123456                            // 设置telnet登录密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#login</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config-line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0(config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)#exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">%SYS-5-CONFIG_I:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> console</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0#write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                 //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 保存配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Building</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[OK]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><ul><li><strong>⑤连通性测试</strong></li></ul><p><img src="`+t+'" alt="" loading="lazy" decoding="async"></p>',43),F=[e];function r(d,g,E,y,C,c){return i(),a("div",null,F)}const b=s(k,[["render",r]]);export{o as __pageData,b as default};
